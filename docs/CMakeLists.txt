# Copyright (C) The DDC development team, see COPYRIGHT.md file
#
# SPDX-License-Identifier: MIT

cmake_minimum_required(VERSION 3.15)

file(MAKE_DIRECTORY "${CMAKE_CURRENT_BINARY_DIR}/html")
set(DOXYGEN_AUTOLINK_SUPPORT YES CACHE BOOL "")
set(DOXYGEN_BUILTIN_STL_SUPPORT YES CACHE BOOL "")
if("${DOXYGEN_VERSION}" VERSION_GREATER_EQUAL 1.9.4 AND CMAKE_CXX_COMPILER_ID STREQUAL "Clang" AND "${CMAKE_EXPORT_COMPILE_COMMANDS}")
# Doxygen <= 1.9.4 suffers from https://github.com/doxygen/doxygen/issues/8784
set(DOXYGEN_CLANG_ASSISTED_PARSING YES CACHE BOOL "")
set(DOXYGEN_CLANG_DATABASE_PATH "${CMAKE_BINARY_DIR}" CACHE STRING "")
endif()
set(DOXYGEN_DISABLE_INDEX YES CACHE BOOL "")
set(DOXYGEN_ENUM_VALUES_PER_LINE 1 CACHE STRING "")
set(DOXYGEN_EXAMPLE_PATH "${DDC_SOURCE_DIR}/examples" CACHE STRING "")
set(DOXYGEN_EXPAND_ONLY_PREDEF YES CACHE BOOL "")
set(DOXYGEN_EXTRACT_ALL YES CACHE BOOL "")
set(DOXYGEN_EXCLUDE_SYMBOLS "detail" CACHE STRING "")
set(DOXYGEN_EXCLUDE_PATTERNS "*/experimental/*;*/detail/*" CACHE STRING "")
set(DOXYGEN_EXTRACT_LOCAL_CLASSES YES CACHE BOOL "")
set(DOXYGEN_FULL_PATH_NAMES NO CACHE BOOL "")
set(DOXYGEN_GENERATE_TREEVIEW YES CACHE BOOL "")
set(DOXYGEN_HTML_FOOTER "${CMAKE_CURRENT_SOURCE_DIR}/_template/footer.html" CACHE FILEPATH "")
set(DOXYGEN_HTML_HEADER "${CMAKE_CURRENT_SOURCE_DIR}/_template/header.html" CACHE FILEPATH "")
set(DOXYGEN_HTML_STYLESHEET "${CMAKE_CURRENT_SOURCE_DIR}/_template/style.css" CACHE FILEPATH "")
set(DOXYGEN_HTML_OUTPUT "${CMAKE_CURRENT_BINARY_DIR}/html" CACHE PATH "")
set(DOXYGEN_HTML_TIMESTAMP NO CACHE BOOL "")
set(DOXYGEN_INCLUDE_GRAPH NO CACHE BOOL "")
set(DOXYGEN_INCLUDE_PATH "${DDC_SOURCE_DIR}/include/" CACHE PATH "")
set(DOXYGEN_INCLUDED_BY_GRAPH NO CACHE BOOL "")
set(DOXYGEN_INLINE_SIMPLE_STRUCTS YES CACHE BOOL "")
set(DOXYGEN_JAVADOC_AUTOBRIEF YES CACHE BOOL "")
set(DOXYGEN_LAYOUT_FILE "${CMAKE_CURRENT_SOURCE_DIR}/_template/layout.xml" CACHE FILEPATH "")
set(DOXYGEN_MACRO_EXPANSION YES CACHE BOOL "")
set(DOXYGEN_PREDEFINED "DOXYGEN_IGNORE" CACHE STRING "")
set(DOXYGEN_PROJECT_LOGO "${CMAKE_CURRENT_SOURCE_DIR}/_template/logo.png" CACHE FILEPATH "")
set(DOXYGEN_PROJECT_NUMBER "${DDC_VERSION}" CACHE STRING "")
set(DOXYGEN_QT_AUTOBRIEF YES CACHE BOOL "")
set(DOXYGEN_RECURSIVE YES CACHE BOOL "")
set(DOXYGEN_SEARCHENGINE NO CACHE BOOL "")
set(DOXYGEN_SHOW_FILES NO CACHE BOOL "")
set(DOXYGEN_SHOW_INCLUDE_FILES NO CACHE BOOL "")
set(DOXYGEN_SORT_MEMBER_DOCS NO CACHE BOOL "")
set(DOXYGEN_SORT_MEMBERS_CTORS_1ST YES CACHE BOOL "")
set(DOXYGEN_TOC_INCLUDE_HEADINGS 4 CACHE STRING "")
set(DOXYGEN_TYPEDEF_HIDES_STRUCT YES CACHE BOOL "")
set(DOXYGEN_UML_LIMIT_NUM_FIELDS 20 CACHE STRING "")
set(DOXYGEN_UML_LOOK YES CACHE BOOL "")
set(DOXYGEN_WARN_IF_UNDOCUMENTED NO CACHE BOOL "")
set(DOXYGEN_WARN_IF_DOC_ERROR YES CACHE BOOL "")
set(DOXYGEN_WARN_IF_INCOMPLETE_DOC YES CACHE BOOL "")
set(DOXYGEN_WARN_NO_PARAMDOC ON CACHE BOOL "")
set(DOXYGEN_WARN_IF_UNDOC_ENUM_VAL YES CACHE BOOL "")
set(DOXYGEN_WARN_AS_ERROR FAIL_ON_WARNINGS CACHE STRING "")
set(DOXYGEN_WARN_LOGFILE "doxygen.log" CACHE STRING "")
set(DOXYGEN_IMAGE_PATH "${CMAKE_CURRENT_SOURCE_DIR}/images" CACHE STRING "")
doxygen_add_docs(doc
        "${CMAKE_CURRENT_SOURCE_DIR}/About.md"
        "${CMAKE_CURRENT_SOURCE_DIR}/first_steps.md"
        "${CMAKE_CURRENT_SOURCE_DIR}/heat_equation.md"
        "${DDC_SOURCE_DIR}/include/ddc/"
        ALL)
