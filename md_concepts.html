<!--
Copyright (C) The DDC development team, see COPYRIGHT.md file
SPDX-License-Identifier: MIT
-->
<!-- HTML header for doxygen 1.9.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DDC: DDC concepts</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="custom.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript">
    DoxygenAwesomeDarkModeToggle.init()
    DoxygenAwesomeFragmentCopyButton.init()
    DoxygenAwesomeInteractiveToc.init()
    DoxygenAwesomeParagraphLink.init()
</script>
</head>
<body>
<a href="https://github.com/CExA-project/ddc" class="github-corner" title="View source on GitHub" target="_blank" rel="noopener noreferrer">
  <svg viewBox="0 0 250 250" width="40" height="40" style="position: absolute; top: 0; border: 0; right: 0; z-index: 99;" aria-hidden="true">
  <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><a href="index.html"><img alt="Logo" src="logo.png"/></a></td>
  <td id="projectalign">
   <div id="projectname">DDC<span id="projectnumber">&#160;0.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md_concepts.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">DDC concepts</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md20"></a></p>
<p>DDC introduces labels in the form of dimensions and attributes on top of Kokkos arrays, which offer a more intuitive and less error-prone development experience.</p>
<p>Using Kokkos, the indices of views are weakly typed, meaning that each index is a simple integer. Let's consider a multidimensional view intended to represent a physical quantity, such as a temperature field for example. The first index represents the temperature along the \(x\) axis, and the second index represents the temperature along the \(y\) axis. As both indices are simple integers, they may be swapped by mistake. The code would compile successfully, but the result would be incorrect, and the source of the error would be difficult to trace.</p>
<p>DDC provides array-like containers that have labeled dimensions and strongly typed indices. For instance, by labeling dimensions <code>X</code> and <code>Y</code>, the indices along those labeled dimensions become strongly typed and cannot be swapped anymore.</p>
<h1><a class="anchor" id="autotoc_md21"></a>
ddc::DiscreteElement and ddc::DiscreteVector</h1>
<h2><a class="anchor" id="autotoc_md22"></a>
ddc::DiscreteElement</h2>
<p>A <code><a class="el" href="classddc_1_1DiscreteElement.html" title="A DiscreteElement identifies an element of the discrete dimension.">ddc::DiscreteElement</a></code> is a type that carries the label of the dimension it is defined from. Let's discretize the \(y\) axis as follows: \(\{y_0, y_1, ..., y_n\}\). Then the index <code>iy</code> defined as follows:</p>
<div class="fragment"><div class="line"><a class="code hl_class" href="classddc_1_1DiscreteElement.html">ddc::DiscreteElement&lt;DDimY&gt;</a> iy(0);</div>
<div class="ttc" id="aclassddc_1_1DiscreteElement_html"><div class="ttname"><a href="classddc_1_1DiscreteElement.html">ddc::DiscreteElement</a></div><div class="ttdoc">A DiscreteElement identifies an element of the discrete dimension.</div><div class="ttdef"><b>Definition</b> <a href="discrete__element_8hpp_source.html#l00148">discrete_element.hpp:149</a></div></div>
</div><!-- fragment --><p>carries the strong typing of the ordinate dimension <code>DDimY</code>, and corresponds to the index 0 as in \(y_0\), i.e. the index of the first point along the \(y\) dimension.</p>
<p>Another example would be the study of a charged plasma. One dimension could represent species with charge and mass information, and another could represent particle momentum. Let's discretize the species dimension as follows: \(\{sp_0, sp_1, ..., sp_n\}\). Then the index <code>isp</code> defined as follows:</p>
<p><code><a class="el" href="classddc_1_1DiscreteElement.html" title="A DiscreteElement identifies an element of the discrete dimension.">ddc::DiscreteElement</a>&lt;Species_Dimension&gt; isp(0)</code></p>
<p>carries the strong typing of the labeled dimension <code>Species_Dimension</code> and corresponds to the index 0 as in \(sp_0\), i.e. the index of the first particle along the \(sp\) dimension (eventhough the order does not matter in this study). Same would apply for the momentum dimension.</p>
<p><code><a class="el" href="classddc_1_1DiscreteElement.html" title="A DiscreteElement identifies an element of the discrete dimension.">ddc::DiscreteElement</a></code> is used to access arrays. Let's take a multidimensional container and access its element <code>(i, j)</code>, which corresponds to the grid point at the i-th row and the j-th column. We would do it like this:</p>
<div class="fragment"><div class="line">container(i, j);</div>
</div><!-- fragment --><p>Now, if we take a slice of this container and still want to access the same element <code>(i, j)</code> from the grid, we need to adjust the indices, because they are relative to the first point of the slice. Using DDC and a slice accessing with a <code><a class="el" href="classddc_1_1DiscreteElement.html" title="A DiscreteElement identifies an element of the discrete dimension.">ddc::DiscreteElement</a></code> is the same between the slice and the original multidimensional array because of the uniqueness of each discrete element on the grid and because of the way we access data using DDC.</p>
<h2><a class="anchor" id="autotoc_md23"></a>
ddc::DiscreteVector</h2>
<p>A <code><a class="el" href="classddc_1_1DiscreteVector.html" title="A DiscreteVector is a vector in the discrete dimension.">ddc::DiscreteVector</a></code> corresponds to an integer that, like <code><a class="el" href="classddc_1_1DiscreteElement.html" title="A DiscreteElement identifies an element of the discrete dimension.">ddc::DiscreteElement</a></code>, carries the label of the dimension in which it is defined. For instance in the uniform heat equation example, defining the <code><a class="el" href="classddc_1_1DiscreteVector.html" title="A DiscreteVector is a vector in the discrete dimension.">ddc::DiscreteVector</a></code> <code>gwx</code> as follows:</p>
<div class="fragment"><div class="line"><a class="code hl_class" href="classddc_1_1DiscreteVector.html">ddc::DiscreteVector&lt;DDimX&gt;</a> gwx(5);</div>
<div class="ttc" id="aclassddc_1_1DiscreteVector_html"><div class="ttname"><a href="classddc_1_1DiscreteVector.html">ddc::DiscreteVector</a></div><div class="ttdoc">A DiscreteVector is a vector in the discrete dimension.</div><div class="ttdef"><b>Definition</b> <a href="discrete__vector_8hpp_source.html#l00256">discrete_vector.hpp:257</a></div></div>
</div><!-- fragment --><p>defines five point, along the \(x\) dimension.</p>
<dl class="section remark"><dt>Remarks</dt><dd>Note that the difference between two <code><a class="el" href="classddc_1_1DiscreteElement.html" title="A DiscreteElement identifies an element of the discrete dimension.">ddc::DiscreteElement</a></code>s gives a <code><a class="el" href="classddc_1_1DiscreteVector.html" title="A DiscreteVector is a vector in the discrete dimension.">ddc::DiscreteVector</a></code>, and the sum of a <code><a class="el" href="classddc_1_1DiscreteVector.html" title="A DiscreteVector is a vector in the discrete dimension.">ddc::DiscreteVector</a></code> and a <code><a class="el" href="classddc_1_1DiscreteElement.html" title="A DiscreteElement identifies an element of the discrete dimension.">ddc::DiscreteElement</a></code> gives a <code><a class="el" href="classddc_1_1DiscreteElement.html" title="A DiscreteElement identifies an element of the discrete dimension.">ddc::DiscreteElement</a></code>. This illustrates how <code><a class="el" href="classddc_1_1DiscreteElement.html" title="A DiscreteElement identifies an element of the discrete dimension.">ddc::DiscreteElement</a></code>s correspond to points in an affine space, while <code><a class="el" href="classddc_1_1DiscreteVector.html" title="A DiscreteVector is a vector in the discrete dimension.">ddc::DiscreteVector</a></code>s correspond to vectors in a vector space, or to a distance between two points.</dd></dl>
<p>In summary:</p>
<ul>
<li><code><a class="el" href="classddc_1_1DiscreteElement.html" title="A DiscreteElement identifies an element of the discrete dimension.">ddc::DiscreteElement</a></code> corresponds to unique points in the simulation labeled by a dimension. They can for instance represent discrete points along a dimension or be linked to particles, allowing access to certain data (e.g., mass, charge, etc.).</li>
<li><code><a class="el" href="classddc_1_1DiscreteVector.html" title="A DiscreteVector is a vector in the discrete dimension.">ddc::DiscreteVector</a></code> corresponds to a <em>number</em> of points along a labeled dimensions.</li>
</ul>
<h1><a class="anchor" id="autotoc_md24"></a>
ddc::DiscreteDomain</h1>
<p><code><a class="el" href="classddc_1_1DiscreteDomain.html">ddc::DiscreteDomain</a></code> is an interval of <code><a class="el" href="classddc_1_1DiscreteElement.html" title="A DiscreteElement identifies an element of the discrete dimension.">ddc::DiscreteElement</a></code> distributed according to each labeled dimension. It allows for the distribution of <code><a class="el" href="classddc_1_1DiscreteElement.html" title="A DiscreteElement identifies an element of the discrete dimension.">ddc::DiscreteElement</a></code> across each previously defined labeled dimension. It is constructed using the method <code><a class="el" href="namespaceddc.html#a70f12a43ed0afbc092f4e974b024db3d" title="Initialize (emplace) a global singleton discrete space.">ddc::init_discrete_space</a></code>.</p>
<h1><a class="anchor" id="autotoc_md25"></a>
ddc::Chunk and ddc::ChunkSpan</h1>
<p>The <code><a class="el" href="namespaceddc.html#classddc_1_1Chunk">ddc::Chunk</a></code> is a container that holds the data, while <code><a class="el" href="namespaceddc.html#classddc_1_1ChunkSpan">ddc::ChunkSpan</a></code> behaves like <code>std::mdspan</code>, meaning it is a pointer to the data contained within the <code><a class="el" href="namespaceddc.html#classddc_1_1Chunk">ddc::Chunk</a></code>. Chunks contain data that can be accessed by <code><a class="el" href="classddc_1_1DiscreteElement.html" title="A DiscreteElement identifies an element of the discrete dimension.">ddc::DiscreteElement</a></code>.</p>
<p>Note that swapping the <code><a class="el" href="classddc_1_1DiscreteElement.html" title="A DiscreteElement identifies an element of the discrete dimension.">ddc::DiscreteElement</a>&lt;DDim1&gt;</code> and <code><a class="el" href="classddc_1_1DiscreteElement.html" title="A DiscreteElement identifies an element of the discrete dimension.">ddc::DiscreteElement</a>&lt;DDim2&gt;</code> indices when calling the <code><a class="el" href="namespaceddc.html#classddc_1_1ChunkSpan">ddc::ChunkSpan</a></code> does not affect the correctness of the code; the result remains the same:</p>
<div class="fragment"><div class="line"><a class="code hl_function" href="namespaceddc.html#a70f12a43ed0afbc092f4e974b024db3d">ddc::Chunkspan</a>(<a class="code hl_class" href="classddc_1_1DiscreteElement.html">ddc::DiscreteElement&lt;DDim1&gt;</a>,<a class="code hl_class" href="classddc_1_1DiscreteElement.html">ddc::DiscreteElement&lt;DDim2&gt;</a> ) == <a class="code hl_function" href="namespaceddc.html#a70f12a43ed0afbc092f4e974b024db3d">ddc::Chunkspan</a>(<a class="code hl_class" href="classddc_1_1DiscreteElement.html">ddc::DiscreteElement&lt;DDim2&gt;</a>,<a class="code hl_class" href="classddc_1_1DiscreteElement.html">ddc::DiscreteElement&lt;DDim1&gt;</a> );</div>
<div class="ttc" id="anamespaceddc_html_a70f12a43ed0afbc092f4e974b024db3d"><div class="ttname"><a href="namespaceddc.html#a70f12a43ed0afbc092f4e974b024db3d">ddc::init_discrete_space</a></div><div class="ttdeci">void init_discrete_space(Args &amp;&amp;... args)</div><div class="ttdoc">Initialize (emplace) a global singleton discrete space.</div><div class="ttdef"><b>Definition</b> <a href="discrete__space_8hpp_source.html#l00170">discrete_space.hpp:170</a></div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md26"></a>
Algorithms in ddc ?</h1>
<ul>
<li><code>for_each</code>: this algorithm allows iterating over each <code><a class="el" href="classddc_1_1DiscreteElement.html" title="A DiscreteElement identifies an element of the discrete dimension.">ddc::DiscreteElement</a></code> in the domain of study.</li>
<li><code>fill</code>: this algorithm allows filling a borrowed chunk with a given value.</li>
<li><code>reduce</code>: this algorithm allows reducing operations on a chunk.</li>
<li><code>copy</code>: this algorithm allows copying the content of a borrowed chunk into another </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!--
Copyright (C) The DDC development team, see COPYRIGHT.md file
SPDX-License-Identifier: MIT
-->
<!-- HTML footer for doxygen 1.9.8-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
